const e=(e,t)=>{const{luck:r}=e,s=(e=>.3*e)(r),a={type:"exploration_result",eventTriggered:!1,rewardMultiplier:1,spiritCost:t.spiritCost};return Math.random()<s?a.eventTriggered=!0:a.rewardMultiplier=(e=>Math.random()<.5*e?1.5:1)(r),a};self.onmessage=({data:t})=>{const{type:r,playerData:s,location:a}=t;if("explore"===r)try{const t=e(s,a);self.postMessage(t)}catch(o){self.postMessage({type:"error",message:o.message})}};
